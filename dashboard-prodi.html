<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sidebar Responsive</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
    }

    /* ===== Sidebar Default (Desktop) ===== */
    .sidebar {
      width: 280px;
      background: #2c3e50;
      color: #fff;
      min-height: 100vh;
      transition: width 0.3s;
      padding-top: 20px;
    }

    .sidebar.collapsed {
      width: 80px;
    }

    .sidebar .profile-header {
      text-align: center;
      padding: 0 20px 20px;
    }

    .sidebar .profile-header img.logo-header {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      margin-bottom: 10px;
    }

    .sidebar .nav-link {
      display: flex;
      align-items: center;
      color: #fff;
      padding: 10px 20px;
      text-decoration: none;
      transition: background 0.2s;
    }
    .sidebar .nav-link i {
      margin-right: 15px;
    }
    .sidebar .nav-link:hover {
      background: #34495e;
    }

    .toggle-btn {
      display: block;
      margin: 0 auto 20px auto;
      cursor: pointer;
      color: #fff;
      text-align: center;
    }

    .main-content {
      flex: 1;
      padding: 20px;
      transition: margin-left 0.3s;
    }
    .main-content.expanded {
      margin-left: 280px;
    }
    .main-content.collapsed {
      margin-left: 80px;
    }

    /* ===== Mode mobile toggle ===== */
    @media (max-width: 768px) {
      .sidebar {
        width: 80px; 
        position: fixed;
        z-index: 1050;
      }
      .sidebar.mobile-open {
        width: 280px;
      }
      
      /* Sembunyikan teks saat sidebar kecil di mobile */
      .sidebar .profile-header h5,
      .sidebar .profile-header small {
        display: none;
      }
      .sidebar .nav-link span {
        display: none !important;
      }
      .sidebar .nav-link {
        justify-content: center;
        padding: 12px 0;
      }
      .sidebar .nav-link i {
        margin-right: 0 !important;
        font-size: 1.3rem;
      }
      .sidebar .parent-menu {
        display: none;
      }
      .sidebar .toggle-btn {
        margin: 0 auto 20px auto !important;
      }
      .sidebar .profile-header {
        padding: 0 0 20px 0;
      }
      .sidebar .profile-header img.logo-header {
        margin-bottom: 10px;
      }
      .sidebar .btn-outline-danger span {
        display: none !important;
      }
      .sidebar .btn-outline-danger {
        justify-content: center;
      }
      
      /* Tampilkan teks saat sidebar dibuka di mobile */
      .sidebar.mobile-open .profile-header h5,
      .sidebar.mobile-open .profile-header small {
        display: block;
      }
      .sidebar.mobile-open .nav-link span {
        display: inline !important;
      }
      .sidebar.mobile-open .nav-link {
        justify-content: flex-start;
        padding: 10px 20px;
      }
      .sidebar.mobile-open .nav-link i {
        margin-right: 15px !important;
        font-size: 1.1rem;
      }
      .sidebar.mobile-open .parent-menu {
        display: block;
      }
      .sidebar.mobile-open .toggle-btn {
        margin: 0 15px 20px auto !important;
      }
      .sidebar.mobile-open .profile-header {
        padding: 0 20px 20px;
      }
      .sidebar.mobile-open .profile-header img.logo-header {
        margin-bottom: 0;
      }
      .sidebar.mobile-open .btn-outline-danger span {
        display: inline !important;
      }
      .sidebar.mobile-open .btn-outline-danger {
        justify-content: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <div class="toggle-btn" id="toggleBtn"><i class="fas fa-bars"></i></div>
    <div class="profile-header">
      <img src="https://via.placeholder.com/40" class="logo-header" alt="Logo">
      <h5>Nama User</h5>
      <small>Role</small>
    </div>
    <a href="#" class="nav-link"><i class="fas fa-home"></i><span>Dashboard</span></a>
    <a href="#" class="nav-link"><i class="fas fa-file-alt"></i><span>Laporan</span></a>
    <a href="#" class="nav-link"><i class="fas fa-cog"></i><span>Pengaturan</span></a>
  </div>

  <div class="main-content" id="mainContent">
    <h1>Konten Utama</h1>
    <p>Isi halaman ada di sini...</p>
  </div>

  <script>
    const toggleBtn = document.getElementById('toggleBtn');
    const sidebar = document.getElementById('sidebar');
    const mainContent = document.getElementById('mainContent');

    // Jalankan toggle
    toggleBtn.addEventListener('click', () => {
      if (window.innerWidth <= 768) {
        sidebar.classList.toggle('mobile-open');
      } else {
        sidebar.classList.toggle('collapsed');
        mainContent.classList.toggle('collapsed');
      }
    });

    // Set default collapsed untuk mobile saat load
    function setSidebarDefaultMobile() {
      if (window.innerWidth <= 768) {
        sidebar.classList.remove('collapsed'); // mobile pakai mobile-open
        mainContent.classList.remove('collapsed');
      } else {
        sidebar.classList.remove('mobile-open');
        mainContent.classList.add('expanded');
      }
    }
    window.addEventListener('load', setSidebarDefaultMobile);
    window.addEventListener('resize', setSidebarDefaultMobile);
  </script>
</body>
</html>
